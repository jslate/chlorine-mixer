<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>JS-Interpreter Babel Demo</title>
  <link href="style.css" rel="stylesheet" type="text/css">
  <script src="vendor/javascript/acorn.js"></script>
  <script src="vendor/javascript/interpreter.js"></script>
  <script src="vendor/javascript/babel.min.js"></script>
  <script src="vendor/javascript/highlight.min.js"></script>
  <script src="vendor/javascript/codejar.js"></script>
  <script src="init_dom.js"></script>
  <script src="scripts.js"></script>
  <!-- <script src="vendor/javascript/chlorine.js"></script> -->
  <link rel="stylesheet" href="vendor/css/highlight.min.css">
</head>

<body>
  <h1 id="head">Chlorine Calculator</h1>

  <form name="calcForm" id="calcForm" onsubmit="return false;">
    <p>
      Concentration of bleach product (sodium hypochlorite)<br />
      <input
        id="bleachConcentration"
        name="bleachConcentration"
        placeholder="Bleach concentrate between 1 &amp; 65%"
        hint=""
        type="number"
        style="width: 300px"
        min="1"
        max="65"
        step="0.1"
        required="required"
      /> %
    </p>

    <p>
      Desired concentration of chlorine solution<br/>
      <input
        id="desiredConcentration"
        name="desiredConcentration"
        placeholder="Desired concentrate between 50 &amp; 1000ppm"
        type="number"
        style="width: 300px"
        min="50"
        max="1000"
        step="1"
        required="required"
      /> ppm
    </p>

    <p>
      Desired volume of chlorine solution<br/>
      <input
        id="desiredVolume"
        name="desiredVolume"
        placeholder="Desired volume between 1 &amp; 50 litres"
        type="number"
        style="width: 300px"
        min="1"
        max="50"
        step="0.5"
        required="required"
      /> Liters
    </p>

    <div id="calculateContainer" class="slider-example">
      <button id="calculate" class="calculate">Calculate</button>
      <div id="result" class="result" style="display: none;"></div>
    </div>
  </form>

  <h2>Code</h2>

  <pre>
    <code id="code" class="language-javascript">
const bleachConcentration = document.getElementById('bleachConcentration').value;
const desiredConcentration = document.getElementById('desiredConcentration').value;
const desiredVolume = document.getElementById('desiredVolume').value;

const valid = ![bleachConcentration, desiredConcentration, desiredVolume].includes('');

const availableBleach = (bleachConcentration / 1.05) * 10;
const requiredBleach = (desiredConcentration * desiredVolume) / availableBleach;
const requiredWater = ((desiredVolume) - (requiredBleach / 1000)).toFixed(1);

if (valid == true) {
  var strHTML = `To make your chlorine solution add ${requiredBleach.toFixed(1)} milliliters of bleach to ${requiredWater} litres of water.`;
  document.getElementById('result').innerHTML = strHTML;
} else {
  document.getElementById('result').innerHTML = "Please enter numbers in all the fields";
}
    </code>
  </pre>
  <button id="updateCode">Update Code</button>

  <h2>Exercise #1: Show the number of people the water can be used for</h2>

  <ol>
    <li>
      Add line below <code>const requiredWater...</code> like this:<br/>
      <code>const requiredWaterPerPersonPerDay = 3;</code>
    </li>
    <li>
      Change the line <code>var strHTML...</code> to look like this:<br/>
      <code>var strHTML = `To make your chlorine solution add ${requiredBleach.toFixed(1)} milliliters of bleach to ${requiredWater}
      litres of water. That's enough for ${requiredWater / requiredWaterPerPersonPerDay} people`;</code>
    </li>
  </ol>

</body>

</html>
